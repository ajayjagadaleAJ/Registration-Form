<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

    <style>
     #img-preview {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid #ccc;
            display: none; /* Initially hidden */
        }
        #img-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        #choose-file {
            display: none; /* Hide the default file input */
        }
        label[for="choose-file"] {
            display: inline-block;
            /* padding: 10px 20px; */
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
             margin-top: 40px;
        }
        label[for="choose-file"]:hover {
            background-color: #0056b3;
            
        }


    .profile-container {
            position: relative;
            width: 100px;
            height: 100px;
        }

        .profile-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 2px solid blue;
            background: url('https://cdn-icons-png.flaticon.com/512/847/847969.png') no-repeat center;
            background-size: cover;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .upload-icon {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 30px;
            height: 30px;
            background: blue;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            border: 2px solid white;
        }

        .error-message {
            color: red;
            font-size: 14px;
            margin-top: 5px;
            display: none; /* Hidden by default */
        }
       body{
        background-color:whitesmoke;
        padding-top: 20px;
       }
 
    </style>

</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
          <div class="col-md-12">
            <div class="card">

                <div class="container">
                    <div class="row justify-content-center">
                        <center><h1 style="color:blue">Registration Form </h1></center>
                        <form id="myForm" novalidate  class="row g-3 needs-validation" action="save" method="post">

                            <div class="container">
                                <div class="row"> 

                                    <div class="col-md-5">
                                            <label for="first" class="form-label">First Name</label>
                                            <input type="text" id="firstname" name="first" class="form-control" placeholder="First Name"  required >
                                            <div class="invalid-feedback"> Please enter firstname..</div>  
                                    </div>
                                    
                                
                                    <div class="col-md-5">
                                        <label for="last" class="form-label">Last Name</label>
                                        <input type="text" id="last"  class="form-control" placeholder="Last Name"  required >
                                        <div class="invalid-feedback">Please enter lastname..</div>
                                    </div>        

                                    <div class="col-md-2">
                                        <div class="profile-container">
                                            <div class="profile-circle" id="profile-circle"></div>
                                            <label for="choose-file" class="upload-icon"> &nbsp;+</label>
                                            <input type="file" id="choose-file" accept="image/*" / class="form-control" required >
                                            <div class="invalid-feedback"> Choose File...</div>
                                        </div>        
                                    </div>  

                                </div>                   
                            </div>
                                            
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="phone">Mobile</label>
                                        <input type="tel" id="phoneInput" name="no" mmaxlength="12" pattern="^\+91\d{10}$" placeholder="+91XXXXXXXXXX" class="form-control"  oninput="validatePhoneNumber()" required>
                                        <div class="invalid-feedback"> Please choose enter valid number</div>                                   
                                    </div>
                                </div>                         
                            </div>
                            

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="email">Email</label>
                                        <input type="email" id="email" name="email"class="form-control"   placeholder="abc@gmail.com" class="form-control"   required>
                                        <div class="invalid-feedback">Please enter email as abc@domain.com.</div>
                                    </div>     
                                </div>
                            </div>                

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="email">DOB</label>
                                        <input type="date" id="date" class="form-control" id="date" placeholder="date" class="form-control"  required>
                                        <div class="invalid-feedback">Please enter valid birth date.</div>
                                    </div>     
                                </div>
                            </div>

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <label for="education">Education</label>
                                            <select id="education" name="education" class="form-control col-sm-12"  class="form-control"  required>
                                                <option value="" disabled selected>Select your education</option>
                                                <option value="BE">BE</option>
                                                <option value="B-Tech">B-Tech</option>
                                                <option value="BSC">BSC</option>
                                                <option value="BCA">BCA</option>
                                                <option value="M-Tech">M-Tech</option>
                                            </select>
                                        <div class="invalid-feedback">  Please select the education.</div>
                                    </div>    
                                </div>
                            </div>               
            

                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="row">
                                            <label for="exampleRadios" class="form-label">Gender</label>
                                                <div class="col-md-2">
                                                    <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="options" id="option1" value="option1" required>
                                                    <label class="form-check-label" for="option1">male</label>
                                                    <div class="invalid-feedback">please select a gender..  </div> 
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="options" id="option2" value="option2">
                                                    <label class="form-check-label" for="option2">female</label>
                                                    <!-- <div class="invalid-feedback"> Gender </div>  -->
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="form-check form-check-inline">
                                                        <input class="form-check-input" type="radio" name="options" id="option3" value="option3">
                                                        <label class="form-check-label" for="option3">other</label><br>
                                                    </div>
                                                </div>
                                            <div class="row">
                                                <div class="invalid-feedback">select  </div> 
                                            </div>
                                        </div>    
                                    </div>  
                                    
                                </div>
                            </div>                 
                                        
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="mb-3">
                                            <label for="validationTextarea" class="form-label">Address</label>
                                            <textarea class="form-control" id="validationTextarea" placeholder="address ...." required></textarea>
                                            <div class="invalid-feedback">
                                            Please enter a address in the textarea.
                                            </div>
                                        </div>                     
                                        </div>
                                </div>
                                <div class="col-md-12">
                            <div class="container">
                                <div class="row">
                                    <div class="col-md-12">
                                        <center><button type="submit" class="btn btn-primary" id="register" name="submit" style="margin: 10px 20px 20px 10px;">Register</button></center>
                                    </div>
                                </div>
                            </div>                
                        </form>
                    </div>
                </div>  
        </div>
    </div>
</div>

<!-- Name validation -->
<script>
    document.getElementById("firstname").addEventListener("input", function(event) {
        this.value = this.value.replace(/\d/g, ""); // Remove digits
    });

    document.getElementById("last").addEventListener("input", function(event) {
        this.value = this.value.replace(/\d/g, ""); // Remove digits
    });
</script>


    <!-- Image upload  -->
    <script>
        document.getElementById('choose-file').addEventListener('change', function(event) {
              const file = event.target.files[0];
              if (file) {
                  const reader = new FileReader();
                  reader.onload = function(e) {
                      document.getElementById('profile-circle').style.backgroundImage = `url(${e.target.result})`;
                  };
                  reader.readAsDataURL(file);
              }
          });
    </script>

<!-- Email validation -->
 <script> 
document.getElementById("email").addEventListener("input", function(event) {
    let email = event.target.value;
    let emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/; // Standard email pattern
    let emailError = document.getElementById("emailError");
    
    if (emailPattern.test(email)) {
        emailError.innerHTML = ""; // Clear error
        event.target.classList.add("is-valid");
        event.target.classList.remove("is-invalid");
    } else {
      
        
        event.target.classList.add("is-invalid");
        event.target.classList.remove("is-valid");
    }
});

</script>


<!-- Number validation -->
<script>

function validatePhoneNumber() {
    let phoneInput = document.getElementById("phoneInput");
    let phoneValue = phoneInput.value.trim();
    let phonePattern = /^\+91\d{10}$/; // +91 followed by exactly 10 digits
    let errorMessage = document.getElementById("phoneError");

    if (!errorMessage) {
        errorMessage = document.createElement("div");
        errorMessage.id = "phoneError";
        errorMessage.style.color = "red";
        phoneInput.parentNode.appendChild(errorMessage);
    }

    // Restrict input to only numbers and "+"
    phoneInput.value = phoneValue.replace(/[^\d+]/g, '');

    // Limit input length to exactly 13 characters (+91 + 10 digits)
    if (phoneInput.value.length > 13) {
        phoneInput.value = phoneInput.value.slice(0, 13);
    }

    // Validation check
    if (phonePattern.test(phoneInput.value)) {
        phoneInput.classList.add("is-valid");
        phoneInput.classList.remove("is-invalid");
        errorMessage.innerHTML = ""; // Clear error message
    } else {
        phoneInput.classList.add("is-invalid");
        phoneInput.classList.remove("is-valid");
        // errorMessage.innerHTML = "Invalid format! Enter in +91XXXXXXXXXX format (13 characters total).";
    }
}


</script>



     
 <!-- Date validation -->
  <script>
     const dateInput = document.getElementById("date");
     const dateError = document.getElementById("dateError");
     dateInput.addEventListener("change", function () {
            const selectedDate = new Date(dateInput.value);
            const today = new Date();
            today.setHours(0, 0, 0, 0); // Remove time part for comparison

            if (selectedDate >= today) {
                dateError.style.display = "block"; // Show error message
                setTimeout(() => {
                    dateError.style.display = "none"; // Hide after 2 seconds
                }, 2000);
                dateInput.value = ""; // Clear invalid date
            } else {
                dateError.style.display = "none"; // Hide error if valid
            }
        });
    </script>

<!-- Inbuild  bootsrap validation  -->
<script>

    (function () {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.prototype.slice.call(forms)
        .forEach(function (form) {
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
            }

            form.classList.add('was-validated')
        }, false)
        })
    })()
</script>

 <!-- Sweet Alert -->
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
 <script>
     document.getElementById('myForm').addEventListener('submit', function(event) {
         event.preventDefault();  
 
         let form = this;
 
         // Check if the form is valid
         if (form.checkValidity()) {
             Swal.fire({
                 title: 'Success!',
                 text: 'Your details have been submitted.',
                 icon: 'success',
                 confirmButtonText: 'OK'
             }).then((result) => {
                 if (result.isConfirmed) {
                    window.location.reload();
                     form.submit(); // Submit the form if OK is clicked
                 }
             });
         } else {
             form.classList.add('was-validated'); // Show validation feedback
         }
     });
 </script>
 
</body>
</html>
